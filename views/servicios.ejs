<%- include("template/cabecera", {tituloWeb: 'pagina de Servicios' }) %>


    <div class="container">
        <div class="row justify-content-md-center mt-2"><div class="col-9">
        <h3 class="mb-3">Listado de Servicios</h3>
        <div class="d-grid gap-2">
            <a
                class="btn btn-success"
                href="/servicios/crear"
            >
                Crear Nuevo Servicio
            </a>
        </div>
        <table class="table">
            <thead>
                <tr>
                    <!-- <th scope="col">#</th> -->
                    <th scope="col">Descripción</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Acción</th>
                </tr>
            </thead>
            <tbody>
                <% if (arrayServicios.length> 0) { %>
                    
                    <% arrayServicios.forEach(servicio=> { %>
                        <tr>
                            <!-- <th scope="row"><%= servicio.id %> </th> -->
                            <td><%= servicio.descripcion %></td>
                            <td>$<%= servicio.precio %></td>
                            <td>
                                <a 
                                href="/servicios/<%= servicio.id %>"
                                class="btn btn-warning btn-sm">Editar</a>

                                <!-- <td>
                                    <button class="btn btn-danger btn-sm" id="btn_servicio.id" 
                                        data-id="<%= servicio.id %>">servicio</button>
                                </td> -->
                               
                            </td>
                        </tr>
        
                    <% }) %>
        
                <% } %>
                

            </tbody>
        </table>
     </div></div>
        
    </div>
    <%- include("template/footer") %>

    <!-- <script>
        const btnEliminar = document.querySelector('.btn-danger')

        btnEliminar.addEventListener('click', async() => {
            // y= btnEliminar.getAttribute('data-id')
            console.log('me diste click')
            const id = btnEliminar.dataset.id
            console.log('id', id)
            try {
                const data = await fetch(`/servicios/${id}`, {
                    method: 'delete'
                })
                const res = await data.json()
                
                console.log(res)
                if (res.estado) {
                    window.location.href = '/servicios/'
                } else {
                    console.log(res)
                }
            } catch (error) {
                console.log(error, 'abcd')
            }
        })
    </script> -->